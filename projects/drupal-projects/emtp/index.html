<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="dNntxSC0mShXeLWFqw9ftBD0usXNQi3snCahDaJJfes"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> EMTP.com Drupal Project | Crystal H. Hansen </title> <meta name="author" content="Crystal H. Hansen"> <meta name="description" content="Drupal compontents for Drupal websites and custom modules that span the versions from 8.7 through to 11 modules / theme components and integrations.Below are the projects and notable contributions."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website, Crystal Hansen Developer portfolio, developer, Crystal Hansen Developer, Crystal Hansen's Developer site."> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://cryhansen.github.io/projects/drupal-projects/emtp/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Crystal</span> H. Hansen </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">EMTP.com Drupal Project</h1> <p class="post-description">Drupal compontents for Drupal websites and custom modules that span the versions from 8.7 through to 11 modules / theme components and integrations.Below are the projects and notable contributions.</p> </header> <article> <h3 id="drupal-websites-collection">Drupal Websites Collection</h3> <ul> <li>[Site A – EMTP ] emtp</li> <li><a href="/projects/drupal-projects/artog-co/">Site B – Artog.co</a></li> <li><a href="/projects/drupal-projects/pinmento/">Site C – Pinmento.com</a></li> </ul> <hr> <h2 id="shared-modules">Shared Modules</h2> <p>These custom modules are reused across multiple projects as a base for customized requirements:</p> <ul> <li><a href="https://github.com/cryshansen/email_subscriber" rel="external nofollow noopener" target="_blank">Email Subscriber Module</a></li> <li><a href="https://github.com/cryshansen/drupal_ratings" rel="external nofollow noopener" target="_blank">Star Rating Module</a></li> <li><a href="https://github.com/cryshansen/custom_download" rel="external nofollow noopener" target="_blank">Custom Download Module</a></li> <li><a href="https://github.com/cryshansen/custom_vector" rel="external nofollow noopener" target="_blank">Custom Vector Map Module</a></li> <li><a href="https://github.com/cryshansen/conference_agenda" rel="external nofollow noopener" target="_blank">Conference Agenda Module</a></li> <li><a href="https://github.com/cryshansen/conference_leads" rel="external nofollow noopener" target="_blank">Conference Leads Module</a></li> <li><a href="https://github.com/cryshansen/user_profile_account" rel="external nofollow noopener" target="_blank">User Profile Account </a></li> </ul> <h2 id="customized-modules">Customized Modules</h2> <p>These modules are custom to EMTP with the removal of sensitive or private substance that may be discretionary.</p> <ul> <li>emtp_migration – migration of an external database of content, requires content types, setting up image and file fields to import correctly. It utilized the Migrate Module dependance built in to Drupal. The code base ran against multiple tables in a secondary database to create the content types and its files storage to improve upon SEO.</li> <li>emtp_forms – specialized forms specific to the EMTP Sales engagements. includes a data flow to Hubspot for handling workflows within sales / deals containers. see <a href="https://github.com/cryshansen/email_subscriber" rel="external nofollow noopener" target="_blank">Email Subscriber Module</a> for a basic configuration page similar to this customized module.</li> <li>emtp_api – connects user and hubspot for account creations. Uses the built in HTTP Basic Authentication and RESTful Web Services to process User functionality.</li> <li>emtp_email_subscriber – uses email subscriber to extend into a customized module functionality. Includes a brevo api connection push to hubspot via a brevo workflow. See - <a href="https://github.com/cryshansen/email_subscriber" rel="external nofollow noopener" target="_blank">Email Subscriber Module</a>. The emtp site required emails to both internal sales and external to client to respond with an appropriate message and therefore these elements are also included in the configuration of emtp forms.</li> <li>devices_read_folder – this modules reads the content of the devices folder which correlates to the software devices components and their documentation. The need is to upload changing files dependent on the new software release that can be found or used by sales when supporting the software.</li> </ul> <h3 id="web-developer-role">Web Developer Role:</h3> <p>The emtp.com website I was the sole developer and manager of the web integrations with a title of Web Developer. My role expanded across the server setup, installations, content type migration and module / theme developments.</p> <ol> <li>Single employee responsibilities from server setups and configuration to code implementations, maintaining a site running 24/7 worldwide.</li> <li>Develop code, deploy, maintain code base and custom code from 8.7-10.4</li> <li>Redevelop a deprecated theme(nexus) using bootstrap barrio subtheme and bootstrap view module for carousels, cards, tables etc.</li> <li>Implement customized modules that facilitate the website needs such as user api between third party systems - hubspot user creations, email subscriptions with Brevo api double opt-in design landing subscribed url.</li> <li>Implemented customized forms for sales engagement using block placement and page level theme. Emailing features, api connection to Hubspot Forms, internal workflow code via python.</li> <li>Migrated content from an old php site inside drupal via php filter, into proper content types, file system migrations and taxonomy migrations. This includes: Exchange Platform, Technical Presentations, and Events/Conferences using customized code, theming and blocks.</li> <li>Migrated third party CRM into Hubspot CRM using python, mysql, excel and injection techniques to support the company objectives for Jan 2024 go-live.</li> <li>Implement views to display the new content types working within the theme hooks and views data to display subsets of data or full view pages. Twig templates were customized to display the pages as originally designed. Paging and view more configurations as required.</li> <li>Create a module to handle webform remote_post_handler for the two forms that were originally designed and configured. This handler required configuration fields and used in the theme hooks to push through guzzle http requests. json configuration mapped the webform fields as per the below code:</li> </ol> <h4 id="customize-the-webform-remote_post_handler">Customize the Webform remote_post_handler</h4> <p>The code is simple. The Webform module to send data through to an api create a form then navigate to the handlers section choose “Remote Post” to create a new handler with uri / method and json payload tokens :</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[webform_submission:values:name]"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[webform_submission:values:email]"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[webform_submission:values:message]"</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre></div></div> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;</span><span class="err">?</span><span class="na">php</span>
<span class="na">namespace</span> <span class="na">Drupal</span><span class="err">\</span><span class="na">your_module</span><span class="err">\</span><span class="na">WebformHandler</span><span class="err">;</span>

<span class="na">use</span> <span class="na">Drupal</span><span class="err">\</span><span class="na">webform</span><span class="err">\</span><span class="na">Plugin</span><span class="err">\</span><span class="na">WebformHandlerBase</span><span class="err">;</span>
<span class="na">use</span> <span class="na">Drupal</span><span class="err">\</span><span class="na">webform</span><span class="err">\</span><span class="na">WebformSubmissionInterface</span><span class="err">;</span>

<span class="err">/</span><span class="na">**</span>
 <span class="na">*</span> <span class="na">Sends</span> <span class="na">submission</span> <span class="na">to</span> <span class="na">external</span> <span class="na">API.</span>
 <span class="na">*</span>
 <span class="na">*</span> <span class="err">@</span><span class="na">WebformHandler</span><span class="err">(</span>
 <span class="na">*</span>   <span class="na">id = </span><span class="s">"api_post_handler"</span><span class="err">,</span>
 <span class="na">*</span>   <span class="na">label = </span><span class="s">@Translation("API</span> <span class="na">Post</span> <span class="na">Handler</span><span class="err">"),</span>
 <span class="na">*</span>   <span class="na">category = </span><span class="s">@Translation("Custom"),</span>
 <span class="na">*</span>   <span class="na">description = </span><span class="s">@Translation("Posts</span> <span class="na">data</span> <span class="na">to</span> <span class="na">external</span> <span class="na">API.</span><span class="err">")</span>
 <span class="na">*</span> <span class="err">)</span>
 <span class="na">*</span><span class="err">/</span>
<span class="na">class</span> <span class="na">ApiPostHandler</span> <span class="na">extends</span> <span class="na">WebformHandlerBase</span> <span class="err">{</span>

  <span class="na">public</span> <span class="na">function</span> <span class="na">submitForm</span><span class="err">(</span><span class="na">array</span> <span class="err">&amp;$</span><span class="na">form</span><span class="err">,</span> <span class="na">FormStateInterface</span> <span class="err">$</span><span class="na">form_state</span><span class="err">,</span> <span class="na">WebformSubmissionInterface</span> <span class="err">$</span><span class="na">webform_submission</span><span class="err">)</span> <span class="err">{</span>
    <span class="err">$</span><span class="na">data = </span><span class="s">$webform_submission-</span><span class="nt">&gt;</span>getData();

    $client = \Drupal::httpClient();
    $response = $client-&gt;post('https://your.api/endpoint', [
      'json' =&gt; $data,
      'headers' =&gt; [
        'Authorization' =&gt; 'Bearer YOUR_TOKEN',
      ],
    ]);

    // Optionally check response, log, etc.
  }
}

</code></pre></div></div> <h2 id="project-image-gallery">Project Image Gallery</h2> <p>The below screenshots capture some of the modules and components built that visually help relate the modules and features designed and implemented within the site. Customized modules are not accessible to the general public however generalized modules are extended from the general repositories online. They represent some areas that are more exclusive the EMTP &amp; web ecosystem. The list and images are non-exhaustive.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/emtp/emtp-devices-dark-480.webp 480w,/assets/img/emtp/emtp-devices-dark-800.webp 800w,/assets/img/emtp/emtp-devices-dark-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/emtp/emtp-devices-dark.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="EMTP Devices correletes with custom download Module" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/emtp/emtp-conference-agenda-dark-480.webp 480w,/assets/img/emtp/emtp-conference-agenda-dark-800.webp 800w,/assets/img/emtp/emtp-conference-agenda-dark-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/emtp/emtp-conference-agenda-dark.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Conference Agenda module" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/emtp/emtp-newsletter-modal-dark-480.webp 480w,/assets/img/emtp/emtp-newsletter-modal-dark-800.webp 800w,/assets/img/emtp/emtp-newsletter-modal-dark-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/emtp/emtp-newsletter-modal-dark.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Email Subscription" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The above set of images are front end displays relative to the code behind for the links to the github modules. Some portions rely on static Block content, and RBA. From Left to right (Custom Download module, Conference Agenda, Email Subscribe Module ) </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/emtp/download-emtp-dark-480.webp 480w,/assets/img/emtp/download-emtp-dark-800.webp 800w,/assets/img/emtp/download-emtp-dark-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/emtp/download-emtp-dark.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Download Module connected to user RBA functionality" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The above image is associated with a role based page configuration coupled with different code based on user access. This page module is a admin back end configuration page that appends the html to the the given authentication. Completely configurable. Once the user has the correct privileges, they can download the software using a derivative of the custom_download </div> <p>The below images are related to two form modules. One specific to emtp called <code class="language-plaintext highlighter-rouge">emtp_forms</code> what displays One Hour Call page block forms and the <code class="language-plaintext highlighter-rouge">webform module</code> example.</p> <div class="row justify-content-sm-center"> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/emtp/emtp-webform-request-trial-dark-480.webp 480w,/assets/img/emtp/emtp-webform-request-trial-dark-800.webp 800w,/assets/img/emtp/emtp-webform-request-trial-dark-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/emtp/emtp-webform-request-trial-dark.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Web Form Module Integration with Hubspot" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm-4 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/emtp/emtp-product-1hc-dark-480.webp 480w,/assets/img/emtp/emtp-product-1hc-dark-800.webp 800w,/assets/img/emtp/emtp-product-1hc-dark-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/emtp/emtp-product-1hc-dark.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="One Hour Call Form Block" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> These images relate to the WebForm Module, webform_handler for Hubspot, Custom EMTP Forms with Block plugins for sales engagements. </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/emtp/emtp-product-1hc-dark-480.webp 480w,/assets/img/emtp/emtp-product-1hc-dark-800.webp 800w,/assets/img/emtp/emtp-product-1hc-dark-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/emtp/emtp-product-1hc-dark.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Product page layout features and 1 hr call inclusion" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The above image is associated with the one hour call block inclusion as well as the design of the features on the page. Basic Page feature of drupal and module to display blocks in page using module `Insert Block` via drupal.org/project/insert_block and appending [block:block_id] (Drupal 8/9) in page placement. It requires theme code to implement the functional display. </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Crystal H. Hansen. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>