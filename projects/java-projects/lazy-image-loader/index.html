<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="dNntxSC0mShXeLWFqw9ftBD0usXNQi3snCahDaJJfes"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Lazy Image Loader | Crystal H. Hansen </title> <meta name="author" content="Crystal H. Hansen"> <meta name="description" content="Exploring Java Spring Factory and Angular 2+ sends a json response with file image structure parsing for masonry layout front end using angular methods and delegates"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website, Crystal Hansen Developer portfolio, developer, Crystal Hansen Developer, Crystal Hansen's Developer site."> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://cryhansen.github.io/projects/java-projects/lazy-image-loader/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Crystal</span> H. Hansen </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Lazy Image Loader</h1> <p class="post-description">Exploring Java Spring Factory and Angular 2+ sends a json response with file image structure parsing for masonry layout front end using angular methods and delegates</p> </header> <article> <h3 id="java-spring-boot-collection">Java Spring Boot Collection</h3> <ul> <li><a href="/projects/java-projects/bookit">Bookit</a></li> <li><a href="/projects/java-projects/fortune-ai">fortune-ai</a></li> <li><a href="/projects/java-projects/happy2be">happy2be</a></li> <li><a href="/projects/java-projects/calendar/">calendar</a></li> <li>[lazy-image-loader]lazy-image-loader</li> </ul> <h4 id="-java-studio-gallery-project">üì∏ Java Studio Gallery Project</h4> <p>This project was an exploratory build designed to create a photo studio gallery system using <strong><em>Java EE</em></strong> technologies, <strong><em>Spring</em></strong>, <strong><em>Hibernate</em></strong>, and <strong><em>JSP</em></strong>. It demonstrates a hybrid web architecture combining server-side rendering (via JSP) and an angular.js integration exploratively. The project reflects experimentation with both traditional MVC and modern single-page app patterns. It is different than the gallery-loader repo as this version includes JSP pages and the gallery-loader excludes the JSP from the code base. This app was the origninal created to set up a java app that evolved into expoloring the angular framework aspect of the design.</p> <h5 id="-project-purpose">üéØ Project Purpose</h5> <p>To manage and display a list of photography studios and their associated images in a responsive gallery interface, supporting CRUD operations (Create, Read, Update, Delete) through a Java-based backend.</p> <h6 id="Ô∏è-tech-stack">‚öôÔ∏è Tech Stack</h6> <h6 id="backend">Backend:</h6> <p>Java EE with JSP and Servlets Spring Framework (manual bean management via SpringFactory) Hibernate ORM for database persistence Custom DAO and Manager classes (e.g., StudioDao, StudioManager)</p> <h6 id="frontend">Frontend:</h6> <p>JSP templates using JSTL Bootstrap 4 for styling and layout Lazy loading logic for performance optimization</p> <h5 id="-folder-overview">üìÅ Folder Overview</h5> <p>web/ ‚Äì Contains the web.xml servlet configuration, wiring StudioController to a specific route.</p> <p>WebContent/ ‚Äì Includes both static HTML and dynamic JSP pages, such as:</p> <p>studio-gallery.jsp ‚Äì A hybrid JSP page that loads data via AngularJS and displays it in a flexible grid layout.</p> <p>static_gallery.jsp ‚Äì A simpler version with hardcoded images for prototyping layout ideas.</p> <p>src/bll/StudioManager.java ‚Äì A business logic class responsible for interacting with StudioDao to fetch or update studio records.</p> <h5 id="-key-difference">üß† Key Difference:</h5> <p>Static (static_gallery.jsp): No backend interaction; layout is hardcoded‚Äîgreat for prototyping. Lazy Loading (studio-gallery.jsp): Fetches live data from the server via AngularJS, ensuring scalability and performance for large image sets.</p> <p>Visit its repo here:</p> <ul> <li><a href="https://github.com/cryshansen/javaRepo/tree/main/lazyImageLoad" rel="external nofollow noopener" target="_blank">Lazy Image Load Repository</a></li> </ul> <p>Scroll around to help visualize the repo package in a documentationary way.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/lazy-img-loader/user-journey.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The user journey reflects the flow of the user engagement with the system to provide some insight to its makeup at a high level. The image is split into two components to have a closer view of the flow. This first piece is front end engagement with the system. </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/lazy-img-loader/user-journey1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The user journey reflects the flow of the user engagement with the system to provide some insight to its makeup at a high level. The image is split into two components to have a closer view of the flow. This portion of the complete journey is the backend portion of the engagement with the system. </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/lazy-img-loader/mvc-flow.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/lazy-img-loader/class-diagram.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/lazy-img-loader/erdiagram.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Caption photos: On the left, The MVC flow of data engagement. Diagram that visually represents the MVC (Model-View-Controller) architecture for your Java Studio Gallery Project based on the flow and components. Middle, illustrates the class model and its methods utilized in the backend Java Structure. Right, is an ERD Entity Relationship of the data storage typically a database. </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/lazy-img-loader/mind-map.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Diagram that visually represents the MVC (Model-View-Controller) architecture for your Java Studio Gallery Project based on the flow and components </div> <h4 id="-request-flow-mvc-pattern">üîÑ Request Flow (MVC Pattern)</h4> <p>The user visits the gallery page (e.g., studio-gallery.jsp). AngularJS sends an HTTP request to /StudioController. StudioController invokes StudioManager methods. StudioManager calls StudioDao, which uses Hibernate to query the database. Studio data is returned as JSON to AngularJS, which renders it dynamically into a gallery.</p> <div class="row justify-content-sm-center"> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/lazy-img-loader/sequence-diagram.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm-4 mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/lazy-img-loader/static-vs-lazy.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Static vs Lazy flow comparison" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> üß† Key Difference: Static (static_gallery.jsp): No backend interaction; layout is hardcoded‚Äîgreat for prototyping. Lazy Loading (studio-gallery.jsp): Fetches live data from the server via AngularJS, ensuring scalability and performance for large image sets. </div> <p>üí° Notes The codebase reflects an experimentation phase‚Äîsome JSP pages include AngularJS logic, others serve static content. A partially implemented HTTP POST flow suggests future plans to allow studio creation or updates via AngularJS. The architecture shows clear separation between data access (DAO), business logic (Manager), and presentation (JSP + AngularJS).</p> <p>Snippet of the angular lazy load</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lazy_loader.jsp
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"flex-container"</span> <span class="na">ng-controller=</span><span class="s">"studioStaticGalleryController"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h1&gt;</span>Lazy Loading Images With AngularJS<span class="nt">&lt;/h1&gt;</span>

  <span class="nt">&lt;p&gt;</span>
    You have {{ photos.size }} photos in your set.

    <span class="nt">&lt;a</span> <span class="na">ng-click=</span><span class="s">"rebuildSet()"</span><span class="nt">&gt;</span>Rebuild set<span class="nt">&lt;/a&gt;</span>. <span class="nt">&lt;a</span> <span class="na">ng-click=</span><span class="s">"changeSource()"</span><span class="nt">&gt;</span>Change src<span class="nt">&lt;/a&gt;</span>. <span class="nt">&lt;a</span> <span class="na">ng-click=</span><span class="s">"clearPhotos()"</span><span class="nt">&gt;</span>Clear<span class="nt">&lt;/a&gt;</span>.
  <span class="nt">&lt;/p&gt;</span>

  <span class="nt">&lt;a</span> <span class="na">ng-show=</span><span class="s">"isBoxVisible"</span> <span class="na">ng-click=</span><span class="s">"hideBox()"</span> <span class="na">class=</span><span class="s">"box"</span><span class="nt">&gt;</span> This is a big thing that may change, causing the DOCUMENT HEIGHT to change. <span class="nt">&lt;/a&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"block"</span> <span class="na">ngClass=</span><span class="s">"block"</span> <span class="na">ng-repeat=</span><span class="s">"photo in photos"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"w-100"</span> <span class="na">bn-lazy-src=</span><span class="s">"{{ photo.src }}"</span> <span class="na">alt=</span><span class="s">"{{photo.id}}"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div> <p>imagePreload.HTML This file handles preloading of the browser content. the angular is written at the bottom of the page declaring a app.factory function as a utility class to preloading the image objects. In the backend the system returns a json array</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body</span> <span class="na">ng-controller=</span><span class="s">"AppController"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h1&gt;</span>Preloading Images In AngularJS With Promises<span class="nt">&lt;/h1&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">ng-switch=</span><span class="s">"isLoading"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- BEGIN: Loading View. --&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">ng-switch-when=</span><span class="s">"true"</span><span class="nt">&gt;</span>Your images are being loaded... {{ percentLoaded }}%<span class="nt">&lt;/p&gt;</span>
    <span class="c">&lt;!-- END: Loading View. --&gt;</span>

    <span class="c">&lt;!-- BEGIN: Results View. --&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">ng-switch-when=</span><span class="s">"false"</span> <span class="na">ng-switch=</span><span class="s">"isSuccessful"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;p</span> <span class="na">ng-switch-when=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">ng-repeat=</span><span class="s">"src in imageLocations"</span> <span class="na">ng-src=</span><span class="s">"{{ src }}"</span> <span class="na">style=</span><span class="s">"width: 100px ; margin-right: 10px ;"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/p&gt;</span>

      <span class="nt">&lt;p</span> <span class="na">ng-switch-when=</span><span class="s">"false"</span><span class="nt">&gt;&lt;strong&gt;</span>Oops<span class="nt">&lt;/strong&gt;</span>: One of your images failed to load :(<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="c">&lt;!-- END: Results View. --&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> ¬© Copyright 2026 Crystal H. Hansen. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>