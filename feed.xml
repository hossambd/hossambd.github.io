<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://cryhansen.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://cryhansen.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-12-24T00:35:19+00:00</updated><id>https://cryhansen.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Building out a Docker Container for Spring Boot MailHog and Database</title><link href="https://cryhansen.github.io/blog/2025/building-docker-github-actions-container/" rel="alternate" type="text/html" title="Building out a Docker Container for Spring Boot MailHog and Database"/><published>2025-10-23T01:59:00+00:00</published><updated>2025-10-23T01:59:00+00:00</updated><id>https://cryhansen.github.io/blog/2025/building-docker-github-actions-container</id><content type="html" xml:base="https://cryhansen.github.io/blog/2025/building-docker-github-actions-container/"><![CDATA[<p>üê≥ Building out a Docker Container for Spring Boot MailHog and Database</p> <h2 id="introduction">Introduction</h2> <p>New to DevOps? Need a simple walk through on how to set upa containerized app to run automated testing and deployment. This will get you started quickly.</p> <hr/>]]></content><author><name></name></author><category term="devops-posts"/><category term="devops"/><category term="spring"/><category term="boot"/><category term="docker"/><category term="ports"/><summary type="html"><![CDATA[Every developer needs a container that runs without conflict to isolate bugs in processes.]]></summary></entry><entry><title type="html">Fixing Port 8080 Already In Use in Docker - A DevOps Walkthrough</title><link href="https://cryhansen.github.io/blog/2025/fixing-port-use-in-docker/" rel="alternate" type="text/html" title="Fixing Port 8080 Already In Use in Docker - A DevOps Walkthrough"/><published>2025-10-23T01:59:00+00:00</published><updated>2025-10-23T01:59:00+00:00</updated><id>https://cryhansen.github.io/blog/2025/fixing-port-use-in-docker</id><content type="html" xml:base="https://cryhansen.github.io/blog/2025/fixing-port-use-in-docker/"><![CDATA[<p>üê≥ Fixing ‚ÄúPort 8080 Already in Use‚Äù in Docker ‚Äî A DevOps Walkthrough</p> <h2 id="introduction">Introduction</h2> <p>If you‚Äôve ever spun up a new Docker container for a Spring Boot app and hit the dreaded error: Error response from daemon: ports are not available: exposing port TCP 0.0.0.0:8080 -&gt; 127.0.0.1:0: listen tcp 0.0.0.0:8080: bind: address already in use</p> <p>You‚Äôre not alone. This happens when another process‚Äîoften a previously running Spring Boot or Mailhog container‚Äîis already using <strong>port 8080</strong>.</p> <p>In this quick DevOps walkthrough, we‚Äôll cover how to diagnose, fix, and prevent this conflict ‚Äî both for local development and when deploying multiple services via Docker Compose.</p> <hr/> <h2 id="Ô∏è-problem-overview">‚öôÔ∏è Problem Overview</h2> <p>Docker containers expose internal application ports (like <code class="language-plaintext highlighter-rouge">8080</code> for Spring Boot) to your host system.<br/> When that port is already taken, Docker can‚Äôt bind it, and the build fails with a port conflict.</p> <p>We‚Äôll fix this using three main strategies:</p> <ol> <li>Kill the process that‚Äôs using the port.</li> <li>Remap the container port in <code class="language-plaintext highlighter-rouge">docker-compose.yml</code>.</li> <li>Reassign your Spring Boot app to a different port in <code class="language-plaintext highlighter-rouge">application.properties</code>.</li> </ol> <hr/> <h2 id="-step-1-identify-whats-using-port-8080">üîç Step 1: Identify What‚Äôs Using Port 8080</h2> <p>Run this command to see which process is holding the port:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>lsof <span class="nt">-i</span> :8080
</code></pre></div></div> <p>Example output:</p> <div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">java</span>     <span class="mi">54123</span> <span class="s">crystalhansen</span>   <span class="s">45u</span>  <span class="s">IPv6</span> <span class="s">0x...</span>  <span class="s">TCP</span> <span class="s">*:8080</span> <span class="s">(LISTEN)</span>
</code></pre></div></div> <p>Take note of the PID (process ID).</p> <h2 id="-step-2-kill-the-conflicting-process">üî™ Step 2: Kill the Conflicting Process</h2> <p>Stop it manually using:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">kill</span> <span class="nt">-9</span> 54123
</code></pre></div></div> <p>Replace 54123 with the PID you saw above. Once done, retry your Docker build:</p> <p>docker compose up ‚Äìbuild</p> <p>‚úÖ If everything starts cleanly, your container should now bind correctly to port 8080.</p> <p>üîÅ Step 3: Change the Port Mapping (Optional)</p> <p>If you want to keep the other app running, just map your new container to a different external port in your docker-compose.yml.</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">services</span><span class="pi">:</span>
  <span class="na">app</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">.</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">9090:8080"</span>
</code></pre></div></div> <p>This means:</p> <p>Inside the container ‚Üí app still listens on 8080</p> <p>On your host ‚Üí access it at http://localhost:9090</p> <h2 id="-step-4-change-the-app-port-in-spring-boot">üß± Step 4: Change the App Port in Spring Boot</h2> <p>You can also change the port directly in your application.properties:</p> <div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">server.port=9090</span>
</code></pre></div></div> <p>This permanently moves your app off 8080, preventing future conflicts both locally and in CI/CD pipelines.</p> <h2 id="-step-5-pro-tip--multi-service-docker-compose-setup">üí° Step 5: Pro Tip ‚Äî Multi-Service Docker Compose Setup</h2> <p>If you‚Äôre running multiple microservices, give each one a dedicated external port in your Docker Compose file.</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">services</span><span class="pi">:</span>
  <span class="na">user-service</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">./user</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">8081:8080"</span>

  <span class="na">email-service</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">./email</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">8082:8080"</span>

  <span class="na">gateway</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">./gateway</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">8080:8080"</span>
</code></pre></div></div> <p>Now each container maps safely to a unique external port, even though they all use the same internal port (8080).</p> <h2 id="-summary-table">üß† Summary Table</h2> <p>Scenario Solution Another app using port 8080 Kill the process with lsof and kill You want to run multiple apps Change the Docker port mapping You want to change default app port Set server.port in application.properties</p> <h2 id="-bonus-add-to-your-devops-toolkit">üß© Bonus: Add to Your DevOps Toolkit</h2> <p>When working with Docker-based microservices:</p> <p>Standardize port mapping conventions (e.g., backend apps ‚Üí 8080‚Äì8099, mail services ‚Üí 8025)</p> <p>Use .env variables for ports to avoid hardcoding values</p> <p>Automate cleanups with docker compose down -v to free ports and remove volumes</p> <h2 id="-conclusion">‚ú® Conclusion</h2> <p>Port conflicts are one of the most common issues developers face when running multiple Docker containers locally. By learning how to identify, kill, or remap conflicting processes, you can streamline your workflow and run multiple microservices side by side with zero friction.</p> <p>üöÄ Try applying this to your own Spring Boot or Mailhog setup to build a stable, reusable local DevOps environment.</p> <p>Tags: Docker ‚Ä¢ DevOps ‚Ä¢ Spring Boot ‚Ä¢ Microservices ‚Ä¢ Troubleshooting</p> <p>‚Äù‚Äù‚Äù</p>]]></content><author><name></name></author><category term="devops-posts"/><category term="devops"/><category term="spring"/><category term="boot"/><category term="docker"/><category term="ports"/><summary type="html"><![CDATA[this is what included image galleries could look like]]></summary></entry><entry><title type="html">Building a Studio Booking App</title><link href="https://cryhansen.github.io/blog/2025/studio-booking-tutorial/" rel="alternate" type="text/html" title="Building a Studio Booking App"/><published>2025-07-10T14:24:00+00:00</published><updated>2025-07-10T14:24:00+00:00</updated><id>https://cryhansen.github.io/blog/2025/studio-booking-tutorial</id><content type="html" xml:base="https://cryhansen.github.io/blog/2025/studio-booking-tutorial/"><![CDATA[<h1 id="-building-a-studio-booking-app-with-angular-a-complete-tutorial">üé• Building a Studio Booking App with Angular: A Complete Tutorial</h1> <h2 id="introduction">Introduction</h2> <p>Have you ever wanted to build a front end of a fully functional booking application? In this tutorial, we‚Äôll walk through how we built <strong>Studio Booker</strong>, an Angular-powered stand alone single-page app for managing photography studio bookings ‚Äî from browsing studios to booking a time slot, managing a cart, and completing checkout with a polished confirmation and PDF receipt. It also includes basic front end user login/signup forms and button for a subsection of this tutuorial.</p> <hr/> <h2 id="-features-overview">üîß Features Overview</h2> <ul> <li>Studio listing with details and prices</li> <li>Calendar view with FullCalendar.js</li> <li>Reactive booking form</li> <li>Cart system with persistent storage</li> <li>Checkout with billing info and promo code</li> <li>Confirmation page with printable PDF</li> <li>Sign in - user management</li> <li>Sign up ‚Äì user management</li> <li>Hosted as a subdomain (e.g., <code class="language-plaintext highlighter-rouge">booker.crystalhansenartographic.com</code>)</li> </ul> <hr/> <h2 id="-tech-stack">üß± Tech Stack</h2> <ul> <li>Angular 17+</li> <li>Bootstrap 5</li> <li>FullCalendar.js</li> <li>Reactive Forms</li> <li>LocalStorage for persistence</li> <li>html2pdf.js for client-side PDF generation</li> </ul> <hr/> <h2 id="-app-flow">üîÑ App Flow</h2> <h3 id="1-studio-listing">1. Studio Listing</h3> <p>The user browses available studios with name, description, accessories, and pricing. Clicking ‚ÄúBook Now‚Äù sends studio data to the calendar component.</p> <pre><code class="language-`markdown">```ts
```this.router.navigate(['/calendar', id], );
</code></pre> <ol> <li>Calendar View Uses FullCalendar.js</li> </ol> <p>Clicking a day opens a booking form with that date pre-filled</p> <p>Clicking an event populates the form with existing booking info</p> <ol> <li>Booking Form Reactive form with:</li> </ol> <p>Title</p> <p>Date (readonly if selected from calendar)</p> <p>Time slot (button selector)</p> <p>Price (from studio)</p> <p>Emits the completed booking object to be added to the cart.</p> <ol> <li>Cart System Displays list of bookings</li> </ol> <p>Allows item removal</p> <p>Calculates total</p> <p>Uses LocalStorage for persistence</p> <p>Cart is cleared on successful booking confirmation</p> <ol> <li>Checkout Includes:</li> </ol> <p>First/Last Name, Email, Address</p> <p>Promo code validation (EXAMPLECODE)</p> <p>Card info and payment method</p> <p>Validates form on submission</p> <p>Sends booking + user info to the confirmation page.</p> <ol> <li>Confirmation Displays cart summary and confirmation ID</li> </ol> <p>Downloadable/printable PDF using html2pdf.js</p> <p>Clears cart on load</p> <p>üß† Key Concepts Angular routing (with route/query parameters)</p> <p>Component communication via @Input() and @Output()</p> <p>FullCalendar integration</p> <p>Reactive Forms &amp; validation</p> <p>LocalStorage-based cart service</p> <p>Hosting Angular on a subdomain with .htaccess</p> <p>PDF generation with html2pdf.js</p> <p>Deployment Notes Subdomain configured via shared hosting (e.g., HostPapa)</p> <p>Built using: ng build ‚Äìconfiguration production</p> <p>Deployed to /public_html/studio-booker/</p> <p>.htaccess routes all paths to index.html `` apache Always show details</p> <IfModule mod_rewrite.c=""> RewriteEngine On RewriteBase / RewriteCond % !-f RewriteCond % !-d RewriteRule . /index.html [L] </IfModule> <p>```</p> <h1 id="potential-improvements">Potential Improvements</h1> <p>Backend database (e.g., Firebase, Node.js, Laravel)</p> <p>Authentication &amp; user accounts</p> <p>Admin panel for booking management</p> <p>Online payments with Stripe or PayPal</p> <p>Email confirmations</p> <p>Conclusion This project demonstrates how to build a modern Angular application with real-world booking workflows. It‚Äôs scalable, stylish, and packed with useful patterns for building your own booking system.</p> <p>Want to build it yourself or extend it? Fork it, deploy it, and make it your own!</p> <p>Happy Booking! üöÄ ‚Äú‚Äù‚Äù</p>]]></content><author><name></name></author><category term="angular-posts"/><category term="formatting"/><category term="charts"/><summary type="html"><![CDATA[Ever want to build a booking app and see it under the hood?]]></summary></entry><entry><title type="html">Using NgRx Store with LocalStorage in a Standalone Angular App</title><link href="https://cryhansen.github.io/blog/2025/ngrx-localstorage-tutorial/" rel="alternate" type="text/html" title="Using NgRx Store with LocalStorage in a Standalone Angular App"/><published>2025-03-26T14:24:00+00:00</published><updated>2025-03-26T14:24:00+00:00</updated><id>https://cryhansen.github.io/blog/2025/ngrx-localstorage-tutorial</id><content type="html" xml:base="https://cryhansen.github.io/blog/2025/ngrx-localstorage-tutorial/"><![CDATA[<h1 id="using-ngrx-store-with-localstorage-in-a-standalone-angular-app">Using NgRx Store with LocalStorage in a Standalone Angular App</h1> <p>In this tutorial, we‚Äôll build a simple Angular application using the <strong>Standalone Component API</strong> and manage state using <strong>NgRx Store</strong>. We‚Äôll also persist that state using <strong>localStorage</strong> via the <code class="language-plaintext highlighter-rouge">ngrx-store-localstorage</code> package.</p> <blockquote> <p>This guide is suitable for Angular 16+ and NgRx 16+.</p> </blockquote> <hr/> <h2 id="-overview">üß± Overview</h2> <ul> <li><strong>State slice</strong>: <code class="language-plaintext highlighter-rouge">bookings</code></li> <li><strong>NgRx Store</strong>: to manage state.</li> <li><strong>localStorage</strong>: to persist state across sessions.</li> <li><strong>Standalone Angular app</strong>: no <code class="language-plaintext highlighter-rouge">AppModule</code>, using <code class="language-plaintext highlighter-rouge">bootstrapApplication()</code> in <code class="language-plaintext highlighter-rouge">main.ts</code>.</li> </ul> <hr/> <h2 id="-prerequisites">üß∞ Prerequisites</h2> <ul> <li>Angular CLI installed</li> <li>NgRx Store: <code class="language-plaintext highlighter-rouge">@ngrx/store</code></li> <li>Local storage sync: <code class="language-plaintext highlighter-rouge">ngrx-store-localstorage</code></li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> @ngrx/store ngrx-store-localstorage
</code></pre></div></div> <hr/> <h2 id="mermaid">Mermaid</h2> <p>The diagram below was generated by the following code:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">mermaid
</span><span class="sb">sequenceDiagram
    participant John
    participant Alice
    Alice-&gt;&gt;John: Hello John, how are you?
    John--&gt;&gt;Alice: Great!</span>
<span class="p">```</span>
</code></pre></div></div> <pre><code class="language-mermaid">sequenceDiagram
    participant John
    participant Alice
    Alice-&gt;&gt;John: Hello John, how are you?
    John--&gt;&gt;Alice: Great!
</code></pre> <h2 id="1--define-your-booking-model">1. üìÅ Define Your Booking Model</h2> <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/app/models/booking.ts</span>

<span class="k">export</span> <span class="kr">interface</span> <span class="nx">Booking</span> <span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">date</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <hr/> <h2 id="2--create-booking-actions">2. üé¨ Create Booking Actions</h2> <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/app/store/bookings/booking.actions.ts</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">createAction</span><span class="p">,</span> <span class="nx">props</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ngrx/store</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Booking</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../models/booking</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">addBooking</span> <span class="o">=</span> <span class="nf">createAction</span><span class="p">(</span><span class="dl">'</span><span class="s1">[Booking] Add Booking</span><span class="dl">'</span><span class="p">,</span> <span class="nx">props</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">booking</span><span class="p">:</span> <span class="nx">Booking</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">());</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">removeBooking</span> <span class="o">=</span> <span class="nf">createAction</span><span class="p">(</span><span class="dl">'</span><span class="s1">[Booking] Remove Booking</span><span class="dl">'</span><span class="p">,</span> <span class="nx">props</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="kr">number</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">());</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">clearBookings</span> <span class="o">=</span> <span class="nf">createAction</span><span class="p">(</span><span class="dl">'</span><span class="s1">[Booking] Clear All</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div> <hr/> <h2 id="3--create-booking-reducer">3. üß† Create Booking Reducer</h2> <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/app/store/bookings/booking.reducer.ts</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">createReducer</span><span class="p">,</span> <span class="nx">on</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ngrx/store</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">addBooking</span><span class="p">,</span> <span class="nx">removeBooking</span><span class="p">,</span> <span class="nx">clearBookings</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./booking.actions</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Booking</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../models/booking</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">initialState</span><span class="p">:</span> <span class="nx">Booking</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">bookingReducer</span> <span class="o">=</span> <span class="nf">createReducer</span><span class="p">(</span>
  <span class="nx">initialState</span><span class="p">,</span>
  <span class="nf">on</span><span class="p">(</span><span class="nx">addBooking</span><span class="p">,</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="p">{</span> <span class="nx">booking</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">[...</span><span class="nx">state</span><span class="p">,</span> <span class="nx">booking</span><span class="p">]),</span>
  <span class="nf">on</span><span class="p">(</span><span class="nx">removeBooking</span><span class="p">,</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="p">{</span> <span class="nx">id</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="nx">b</span> <span class="o">=&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="nx">id</span><span class="p">)),</span>
  <span class="nf">on</span><span class="p">(</span><span class="nx">clearBookings</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">[])</span>
<span class="p">);</span>
</code></pre></div></div> <hr/> <h2 id="4--create-local-storage-meta-reducer">4. üíæ Create Local Storage Meta-Reducer</h2> <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/app/store/localStorageSync.reducer.ts</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">ActionReducer</span><span class="p">,</span> <span class="nx">INIT</span><span class="p">,</span> <span class="nx">UPDATE</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ngrx/store</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">localStorageSync</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">ngrx-store-localstorage</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nf">localStorageSyncReducer</span><span class="p">(</span><span class="nx">reducer</span><span class="p">:</span> <span class="nx">ActionReducer</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span><span class="p">):</span> <span class="nx">ActionReducer</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nf">localStorageSync</span><span class="p">({</span>
    <span class="na">keys</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">bookings</span><span class="dl">'</span><span class="p">],</span>
    <span class="na">rehydrate</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">})(</span><span class="nx">reducer</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <hr/> <h2 id="5--bootstrap-application-with-store">5. üöÄ Bootstrap Application with Store</h2> <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/main.ts</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">bootstrapApplication</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/platform-browser</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">AppComponent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./app/app.component</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">appConfig</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./app/app.config</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">provideStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ngrx/store</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">bookingReducer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./app/store/bookings/booking.reducer</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">localStorageSyncReducer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./app/store/localStorageSync.reducer</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">MetaReducer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ngrx/store</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">metaReducers</span><span class="p">:</span> <span class="nx">MetaReducer</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">localStorageSyncReducer</span><span class="p">];</span>

<span class="nf">bootstrapApplication</span><span class="p">(</span><span class="nx">AppComponent</span><span class="p">,</span> <span class="p">{</span>
  <span class="p">...</span><span class="nx">appConfig</span><span class="p">,</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">...</span><span class="nx">appConfig</span><span class="p">.</span><span class="nx">providers</span><span class="p">,</span>
    <span class="nf">provideStore</span><span class="p">({</span> <span class="na">bookings</span><span class="p">:</span> <span class="nx">bookingReducer</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">metaReducers</span> <span class="p">}),</span>
  <span class="p">]</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="nx">err</span><span class="p">));</span>
</code></pre></div></div> <hr/> <h2 id="-usage-in-components">‚úÖ Usage in Components</h2> <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Inject and use the store in your standalone component</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Store</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ngrx/store</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">addBooking</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./store/bookings/booking.actions</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-booking-button</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">standalone</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s2">`&lt;button (click)="addSampleBooking()"&gt;Add Booking&lt;/button&gt;`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">BookingButtonComponent</span> <span class="p">{</span>
  <span class="nf">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">store</span><span class="p">:</span> <span class="nx">Store</span><span class="p">)</span> <span class="p">{}</span>

  <span class="nf">addSampleBooking</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">store</span><span class="p">.</span><span class="nf">dispatch</span><span class="p">(</span><span class="nf">addBooking</span><span class="p">({</span>
      <span class="na">booking</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">id</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">(),</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Sample Booking</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">date</span><span class="p">:</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">().</span><span class="nf">toISOString</span><span class="p">()</span>
      <span class="p">}</span>
    <span class="p">}));</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <hr/> <h2 id="-final-notes">üì¶ Final Notes</h2> <ul> <li>State persists in <code class="language-plaintext highlighter-rouge">localStorage</code> under the key <code class="language-plaintext highlighter-rouge">bookings</code>.</li> <li>Clearing the browser‚Äôs storage will reset state.</li> <li>This setup is perfect for small apps and prototypes.</li> </ul> <blockquote> <p>üîê Remember: <code class="language-plaintext highlighter-rouge">localStorage</code> is not secure. Avoid storing sensitive data.</p> </blockquote> <hr/> <h2 id="-summary">üìù Summary</h2> <ul> <li>‚úÖ Setup NgRx store in standalone mode</li> <li>‚úÖ Created <code class="language-plaintext highlighter-rouge">bookings</code> state with actions + reducer</li> <li>‚úÖ Used <code class="language-plaintext highlighter-rouge">ngrx-store-localstorage</code> to persist state</li> </ul> <p>This setup can be extended to manage more slices of state (e.g., <code class="language-plaintext highlighter-rouge">users</code>, <code class="language-plaintext highlighter-rouge">auth</code>, etc.) by adding to the <code class="language-plaintext highlighter-rouge">keys</code> array in the meta-reducer.</p> <hr/> <p>Let me know if you‚Äôd like this exported as a Markdown file or deployed to your Jekyll blog!</p>]]></content><author><name>Albert Einstein</name></author><category term="angular-posts"/><category term="formatting"/><category term="charts"/><summary type="html"><![CDATA[Looking for a local storage tutorial that gives you a workable business case other than shopping carts?]]></summary></entry></feed>